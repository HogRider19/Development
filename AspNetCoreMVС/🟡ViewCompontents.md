**View Component** - представляет код, который объединяет логику на языке C# и связанную с ней разметку razor и который решает какую-то определенную задачу, например, создание динамических меню, облако тегов, панель входа на сайт, корзина покупок и так далее

View Component состоит из двух частей: класса на C# и частичного представления, которое вызывает методы этого класса. При этом View Component не может обрабатывать HTTP-запросы, а генерируемый им контент включается в код родительского представления

View Component поддерживает внедрение зависимостей, поэтому в коде view component можно получить зависимости из провайдера сервисов. В то же время компонент не является частью жизненного цикла контроллера, поэтому к нему нельзя применять фильтры

Есть три способа определения компонента:

1. Определение компонента как обычного класса
2. Наследование от базового класса ViewComponent
3. Применение к классу атрибута \[ViewComponent]

При определении компонента в виде обычного класса C# название этого класса должно оканчиваться на суффикс ViewComponent, плюс в самом классе должен быть определен метод Invoke() или InvokeAsync

**Component.InvokeAsunc(name, objArgs)** - вызов компонента по имени

---

Метод Invoke в компоненте представления может возвращать строку, но это может быть не всегда удобно. Обычно в качестве результата в View Component используется объект интерфейса IViewComponentResult

**IViewComponentResult** - интерфейс возврата результата из компонента

## Классы реализующие IViewComponentResult:

1. **ViewComponentResult:** используется для генерации представления Razor с возможностью передачи модели. Для создания этого объекта может применяться метод View() класса ViewComponent
2. **ContentViewComponentResult:** применяется для отправки текстового контента. Для создания используется метод Content()
3. **HtmlContentViewComponentResult**: представляет фрагмент кода HTML, который инкорпорируется в веб-станицу

---

При создании компонента с помощью наследования от класса ViewComponent внутри подобного компонента мы можем использовать через ряд свойств, которые позволяют получить различные данные

1. **HttpContext:** представляет контекст http запроса
2. **ModelState:** представляет состояние модели в виде объекта
3. **Request:** возвращает контекст запроса в виде объекта HttpRequest
4. **RouteData:** возвращает данные маршрута
5. **Url:** представляет объект, который используется для адреса
6. **User**: представляет текущего пользователя в виде объекта IPrincipal
7. **ViewBag:** объект, для передачи данных в представление
8. **ViewContext:** описывает контекст главного представления
9. **ViewData:** объект, для передачи данных в представление