**Simple Object Access Protocol(SOAP)** — это протокол, по которому веб-сервисы взаимодействуют друг с другом или с клиентами.

**SOAP API** — это веб-сервис, использующий протокол SOAP для обмена сообщениями между серверами и клиентами. При этом сообщения должны быть написаны на языке XML в соответствии со строгими стандартами, иначе сервер вернет ошибку

## SOAP-сообщение состоит:

- **Envelope («конверт»)**: Это корневой элемент. Определяет XML-документ как сообщение SOAP с помощью пространства имен 
- **Header («заголовок»)**: Включает в себя атрибуты сообщения, связанные с конкретным приложением 
- **Body («тело»)**: Сообщение, которое передает веб-приложение. Может содержать запрос к серверу или ответ от него 
- **Fault («ошибка»)**: Опциональный элемент. Передает уведомление об ошибках, если они возникли в ходе обработки сообщения

## Когда используют SOAP:

- **Асинхронная обработка и последующий вызов**: Стандарт SOAP 1.2 обеспечивает клиенту гарантированный уровень надежности и безопасности. 
- **Формальное средство коммуникации**: Если клиент и сервер имеют соглашение о формате обмена, то SOAP 1.2 предоставляет жесткие спецификации для такого типа взаимодействия. 
- **Операции с состоянием**: Если приложение требует, чтобы состояние сохранялось от одного запроса к другому, то стандарт SOAP 1.2 предоставляет структуру для поддержки таких требований

## Сравнение SOAP и REST:

**SOAP** — протокол  
**REST** — архитектурный стиль

## Минусы SOAP:

1) Объемные сообщения; 
2) Поддержка только одного формата — XML;
3) Схема работы по принципу «один запрос — один ответ»;
4) Смена описания веб-сервиса может нарушить работу клиента

## Минусы REST:

1) При использовании REST сложнее обеспечить безопасность конфиденциальных данных; 
2) Трудности с проведением операций, которым необходимо сохранение состояния. Как, например, в случае с корзиной в онлайн-магазине, которая должна сохранять добавленные товары до момента оплаты