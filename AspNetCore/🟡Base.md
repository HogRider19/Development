ASP.NET Core представляет технологию для создания веб-приложений на платформе DotNet, развиваемую компанией Microsoft. В качестве языков программирования для разработки приложений на ASP.NET Core используются C# и F#.

История ASP.NET фактически началась с выходом первой версии .NET в начале 2002 года и с тех пор ASP.NET и .NET развивались параллельно: выход новой версии .NET знаменовал выход новой версии ASP.NET, поскольку ASP.NET работает поверх .NET.

В то же время изначально ASP.NET была нацелена на работу исключительно в Windows на веб-сервере IIS. Хотя благодаря проекту Mono приложения на ASP.NET можно было запускать и на Linux.

Однако 2014 год ознаменовал большие перемены, фактически революцию в развитии платформы. Microsoft взяла курс на развитии ASP.NET как кроссплатформенной технологии, которая развивается как opensource-проект. 

Платформа получила название ASP.NET Core. Первый релиз обновленной платформы увидел свет в 2016. Теперь она стала работать на Windows, MacOS и Linux. Она стала более легковесной, модульной, ее стало проще конфигурировать.

![[Pasted image 20231208225523.png]]

На самом верхнем уровне располагаются различные модели взаимодействия с пользователем. Это технологии построения пользовательского интерфейса и обработки ввода пользователя. Кроме того присутствуют встроенные сервисы.

Все эти технологии базируются и взаимодействуют с чистым ASP.NET Core, который представлен прежде всего различными встроенными компонентами middleware - компонентами, которые применяются для обработки запроса.

Кроме того, технологии высшего уровня также взаимодействуют с различными расширениями, которые не являются непосредственной частью ASP.NET Core, как расширения для логгирования, конфигурации и т.д.

И на самом нижнем уровне приложение ASP.NET Core работает в рамках некоторого веб-сервера, например, Kestrel, IIS или библиотеки HTTP.sys.

---

Приложение представляет объект AspNetCore.Builder.WebApplication. Этот объект настраивает всю конфигурацию приложения, его маршруты, зависимости и т.д.

Для создания объекта WebApplication необходим специальный класс-строитель WebApplicationBuilder. Он создается через статический метод CreateBuilder приложения. В качестве параметра в метод передаются аргументы, которые передаются приложению при запуске.



**WebApplicationBuilder** - класс для настройки и создания приложения

**WebApplication.CreateBuilder()** - создание объекта builder

## WebApplicationBuilder используется для:

1. Установка конфигурации приложения
2. Добавление сервисов
3. Настройка логгирования в приложении
4. Установка окружения приложения
5. Конфигурация объектов IHostBuilder и IWebHostBuilder, которые применяются для создания хоста приложения

## WebApplicationBuilder свойства:

1. **Configuration** - представляет объект ConfigurationManager, который применяется для добавления конфигурации к приложению.
2. **Environment** - предоставляет информацию об окружении, в котором запущено приложение.
3. **Host** - объект IHostBuilder, который применяется для настройки хоста.
4. **Logging** - позволяет определить настройки логгирования в приложении.
5. **Services** - представляет коллекцию сервисов и позволяет добавлять сервисы в приложение.
6. **WebHost** - объект IWebHostBuilder, который позволяет настроить отдельные настройки сервера

---

**WebApplication** - класс веб приложения builder.Build() - создание объекта WebApplication

## WebApplication применяет три интерфейса:

1. **IHost** - применяется для запуска и остановки хоста, который прослушивает входящие запросы
2. **IApplicationBuilder** - применяется для установки компонентов, которые участвуют в обработке запроса
3. **IEndpointRouteBuilder** - применяется для установки маршрутов, которые сопоставляются с запросами

## WebApplication свойства:

1. **Configuration** - представляет конфигурацию приложения в виде объекта IConfiguration
2. **Environment** - представляет окружение приложения в виде IWebHostEnvironment
3. **Lifetime** - позволяет получать уведомления о событиях жизненного цикла приложения
4. **Logger** - представляет логгер приложения по умолчанию
5. **Services** - представляет сервисы приложения
6. **Urls** - представляет набор адресов, которые использует сервер