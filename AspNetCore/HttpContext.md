–í `AspNetCore` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ `HttpContext`.
–û–Ω –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Ö–æ–¥—è—â–µ–º –∑–∞–ø—Ä–æ—Å–µ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—Ç–≤–µ—Ç–∞. –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ —Ü–µ–ø–æ—á–∫–µ `middleware` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
—á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∞—Ç `RequestDelegate`. –¢–∞–∫–∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `DI`.

**==Connection==**. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `HttpConnectionInfo`, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: `IP` –∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞, –ø–æ—Ä—Ç—ã, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ `TLS`. –≠—Ç–æ –±—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `IP` —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é.

```c#
var isSecure = context.Connection.ClientCertificate != null;
var remoteIp = context.Connection.RemoteIpAddress;    // IPAddress
var localIp = context.Connection.LocalIpAddress;      // IPAddress
var remotePort = context.Connection.RemotePort;       // int
var localPort  = context.Connection.LocalPort;        // int
```

**==Features==**. C–æ–¥–µ—Ä–∂–∏—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π `HTTP` –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ß–µ—Ä–µ–∑ –Ω–µ—ë –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å, —Å–∫–∞–∂–µ–º, –ø–æ–¥–¥–µ—Ä–∂–∫—É `WebSockets` –∏–ª–∏ `HTTP/2 Push`. –ö–∞–∂–¥—ã–π `middleware` –∏–º–µ–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —ç—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

–ú–µ—Ö–∞–Ω–∏–∑–º –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫: `middleware` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞, –∑–∞—Ç–µ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é `Features` —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `Set<T>(T? instance)`, –∑–∞—Ç–µ–º –¥—Ä—É–≥–∏–µ `middleware` –º–æ–≥—É—Ç —É–∂–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `Features.Get<T>()`.

```c#
var webSocketFeature    = context.Features.Get<IHttpWebSocketFeature>(); 
var bodyControl         = context.Features.Get<IHttpBodyControlFeature>();
var authFeature         = context.Features.Get<IHttpAuthenticationFeature>();
var lifetime            = context.Features.Get<IHttpRequestLifetimeFeature>();
var sendFile            = context.Features.Get<IHttpSendFileFeature>();
var maxSizeFeature      = context.Features.Get<IHttpMaxRequestBodySizeFeature>();
var upgradeFeature      = context.Features.Get<IHttpUpgradeFeature>();
var tlsFeature          = context.Features.Get<ITlsHandshakeFeature>();
```

**==Items==**. –°–≤–æ–π—Å—Ç–≤–æ `Items` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–æ–≤–∞—Ä—å `IDictionary<object,object?>` –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ `middleware` –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –≠—Ç–æ —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞—Å–µ—á—å –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –¥–∞–ª—å—à–µ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.


```c#
context.Items["data"] = 100;
var data = (int)context.Items["data"];
```

**==RequestServices==**. –ß–µ—Ä–µ–∑ `RequestServices` –¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `IServiceProvider`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–º—É `middleware` –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –ø–æ–ª—É—á–∏—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã. –≠—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.


```c#
var service1 = context.RequestServices.GetService<SomeType1>();
var service2 = context.RequestServices.GetRequiredService<SomeType2>();
```

**==TraceIdentifier==**. –°–≤–æ–π—Å—Ç–≤–æ `TraceIdentifier` –≤—ã–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ `GUID`, –∫–æ—Ç–æ—Ä—ã–π —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ª–æ–≥–∞—Ö –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–µ. –ê —Å –ø–æ–º–æ—â—å—é `User`  –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–æ–ª–∏, –∏–∑–≤–ª–µ–∫–∞—Ç—å –∫–ª–∞–π–º—ã.

```c#
var guid = context.TraceIdentifier;
```

**==Session==**. –°–≤–æ–π—Å—Ç–≤–æ `Session` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É `ISession`, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏. –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–µ—Å—Å–∏—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å `middleware` –≤—ã–∑–æ–≤–æ–º `app.UseSession()` –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –ø–∞–º—è—Ç–∏ –∏–ª–∏ `Redis` —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `services.AddDistributedMemoryCache()`. 

```c#
context.Session.SetString("CartId", cartId);
var cartId = context.Session.GetString("CartId");
```

**==WebSockets==**. 

---

**==HttpRequest (Request)==**  
–°–≤–æ–π—Å—Ç–≤–æ `Request` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `HttpRequest`, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞: –ø–æ—Ç–æ–∫ —Ç–µ–ª–∞ (`Body`, `BodyReader`), –∑–∞–≥–æ–ª–æ–≤–∫–∏ (`Headers`), –∫—É–∫–∏ (`Cookies`), –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (`Query`, `QueryString`), –º–∞—Ä—à—Ä—É—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (`RouteValues`), –º–µ—Ç–æ–¥ (`Method`), –ø—É—Ç—å (`Path`, `PathBase`), —Å—Ö–µ–º–∞ (`Scheme`) –∏ –ø—Ä–∏–∑–Ω–∞–∫ HTTPS (`IsHttps`). –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –∏–∑ POST-–∑–∞–ø—Ä–æ—Å–∞, –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å:

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`var form = await context.Request.ReadFormAsync(); var username = form["username"];`

–í —Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–ª–∏–Ω—É –∏ —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (`ContentLength`, `ContentType`), —á—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–æ–∫.

---

**==HttpResponse (Response)==**  
–ß–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `Response` –≤—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ –≤—Å–µ–º, —á—Ç–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–ª–∏–µ–Ω—Ç—É. –û–±—ä–µ–∫—Ç `HttpResponse` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- **Body** –∏ **BodyWriter**: –ø–æ—Ç–æ–∫ –∏ PipeWriter –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞.
    
- **HasStarted**: —Ñ–ª–∞–≥, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π, –Ω–∞—á–∞–ª–∞—Å—å –ª–∏ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–∫–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
    
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ (`Headers`), –≤–∫–ª—é—á–∞—è —É–¥–æ–±–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å `IHeaderDictionary` —Å –º–µ—Ç–æ–¥–∞–º–∏ `Append` –∏ —Ç. –ø.
    
- –ö—É–∫–∏ (`Cookies`), `StatusCode`, `ContentType`, `ContentLength`, –∞ —Ç–∞–∫–∂–µ —Å—Å—ã–ª–∫—É –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ `HttpContext`.
    

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`context.Response.Headers.Append("X-Custom", "Value"); context.Response.ContentType = "application/json";`

---

**–ú–µ—Ç–æ–¥ Redirect**  
–í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –¥—Ä—É–≥–æ–π URL. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π (302) —Ä–µ–¥–∏—Ä–µ–∫—Ç, –Ω–æ —Ñ–ª–∞–≥ `permanent: true` –¥–µ–ª–∞–µ—Ç –µ–≥–æ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º (301).

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`// –≤—Ä–µ–º–µ–Ω–Ω–æ context.Response.Redirect("/signin"); // –ø–æ—Å—Ç–æ—è–Ω–Ω–æ context.Response.Redirect("/new-location", permanent: true);`

**–ú–µ—Ç–æ–¥ WriteAsJsonAsync**  
–°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤ JSON –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type: application/json`. –≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ API –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ –∫–æ–¥–∞.

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`var dto = new { Id = 42, Name = "Gadget" }; await context.Response.WriteAsJsonAsync(dto);`

**–ú–µ—Ç–æ–¥ WriteAsync**  
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –±–µ–∑ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`await context.Response.WriteAsync("–ü—Ä–∏–≤–µ—Ç –∏–∑ middleware!");`

**–ú–µ—Ç–æ–¥ SendFileAsync**  
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ –æ—Ç–≤–µ—Ç, –º–∏–Ω—É—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é. –ö—Ä–æ–º–µ —Å—Ç—Ä–æ–∫–∏ —Å –ø—É—Ç—ë–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –¥–ª—è `IFileInfo`. –¢–∞–∫ —É–¥–æ–±–Ω–æ –æ—Ç–¥–∞–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`await context.Response.SendFileAsync("wwwroot/files/manual.pdf");`

---

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `HttpContext` —Å–æ–∑–¥–∞—ë—Ç—Å—è –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å, –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ middleware-—Ü–µ–ø–æ—á–∫–µ –∏ —Å–ª—É–∂–∏—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTTP-–≤—Ö–æ–¥–æ–º –∏ –≤—ã—Ö–æ–¥–æ–º, —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.


## –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ `HttpContext`

- **Connection** (`HttpConnectionInfo`)  
    –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏: IP-–∞–¥—Ä–µ—Å, –ø–æ—Ä—Ç, –ø—Ä–æ—Ç–æ–∫–æ–ª TLS.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `var remoteIp = context.Connection.RemoteIpAddress;`
    
- **Features** (`IFeatureCollection`)  
    –ö–æ–ª–ª–µ–∫—Ü–∏—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (features), —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã HTTP-–æ–±—Ä–∞–±–æ—Ç–∫–∏.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `var hasWebSockets = context.Features.Get<IHttpWebSocketFeature>() != null;`
    
- **Items** (`IDictionary<object, object?>`)  
    –°–ª–æ–≤–∞—Ä—å –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É middleware –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `context.Items["StartTime"] = DateTime.UtcNow;`
    
- **RequestServices** (`IServiceProvider`)  
    –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤, –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å scoped- –∏ transient-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `var logger = context.RequestServices.GetService<ILogger<Startup>>();`
    
- **TraceIdentifier** (`string`)  
    –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `logger.LogInformation("Request {TraceId}", context.TraceIdentifier);`
    
- **User** (`ClaimsPrincipal`)  
    –ü—Ä–∏–Ω—Ü–∏–ø–∞–ª —Ç–µ–∫—É—â–µ–≥–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `if (context.User.Identity.IsAuthenticated) { ‚Ä¶ }`
    
- **WebSockets** (`WebSocketManager`)  
    –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å WebSocket-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `if (context.WebSockets.IsWebSocketRequest) {     var ws = await context.WebSockets.AcceptWebSocketAsync();     // ‚Ä¶ }`
    
- **Session** (`ISession`)  
    –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ (–ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ), –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `app.UseSession()`.
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `context.Session.SetString("CartId", cartId);`
    
- **Request** –∏ **Response**  
    –î–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º `HttpRequest` –∏ `HttpResponse` (–æ–ø–∏—Å–∞–Ω—ã –Ω–∏–∂–µ).
    

---

## –†–∞–±–æ—Ç–∞ —Å **HttpResponse** (`context.Response`)

–°–≤–æ–π—Å—Ç–≤–æ `Response` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `HttpResponse`, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≥–∏–±–∫–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç:

### `Redirect(string location, bool permanent = false)`

–í—ã–ø–æ–ª–Ω—è–µ—Ç HTTP-–ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—é –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π URL.

- **–ü—Ä–∏–º–µ—Ä** (–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç, —Å—Ç–∞—Ç—É—Å 302):
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `context.Response.Redirect("/home/index");`
    
- **–ü—Ä–∏–º–µ—Ä** (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π, 301):
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `context.Response.Redirect("/new-url", permanent: true);`
    

---

### `WriteAsJsonAsync<T>(T value, JsonSerializerOptions? options = null, CancellationToken token = default)`

–°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤ JSON –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `Content-Type: application/json`. –¢—Ä–µ–±—É–µ—Ç –ø–∞–∫–µ—Ç `Microsoft.AspNetCore.Http.Json`.

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`var product = new { Id = 1, Name = "Notebook" }; await context.Response.WriteAsJsonAsync(product);`

---

### `WriteAsync(string text, CancellationToken cancellationToken = default)`

–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è.

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`await context.Response.WriteAsync("Hello, world!");`

---

### `SendFileAsync(string path, long offset = 0, long? count = null, CancellationToken cancellationToken = default)`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –£–¥–æ–±–Ω–æ –¥–ª—è –æ—Ç–¥–∞—á–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –±–µ–∑ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –ø–∞–º—è—Ç–∏.

csharp

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`await context.Response.SendFileAsync("wwwroot/files/report.pdf");`

–¢–∞–∫–∂–µ –µ—Å—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è `IFileInfo`.

---

## –†–∞–±–æ—Ç–∞ —Å **HttpRequest** (`context.Request`)

–°–≤–æ–π—Å—Ç–≤–æ `Request` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `HttpRequest`, –≥–¥–µ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ö–æ–¥—è—â–µ–º –∑–∞–ø—Ä–æ—Å–µ:

- **–ß—Ç–µ–Ω–∏–µ —Ç–µ–ª–∞**
    
    - –ü–æ—Ç–æ–∫: `context.Request.Body` (Stream)
        
    - PipeReader: `context.Request.BodyReader`
        
- **–ß—Ç–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã**
    
    - `IFormCollection Form` (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –µ—Å–ª–∏ —É–∂–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ)
        
    - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ:
        
        csharp
        
        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        
        `var form = await context.Request.ReadFormAsync(); var name = form["username"];`
        
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏, –∫—É–∫–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `var accept = context.Request.Headers["Accept"]; var token = context.Request.Cookies["AuthToken"]; var q = context.Request.Query["search"];`
    
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç–∞**
    
    csharp
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    
    `var id = context.Request.RouteValues["id"];`
    
- **–î—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞**  
    `Method`, `Path`, `PathBase`, `QueryString`, `Scheme`, `IsHttps`.
    

---

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `HttpContext` ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–π –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∫–∞–∫ —á–∏—Ç–∞—Ç—å –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–ø—Ä–æ—Å–µ (—á–µ—Ä–µ–∑ `Request`), —Ç–∞–∫ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç (—á–µ—Ä–µ–∑ `Response`), –∞ —Ç–∞–∫–∂–µ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.


---
---
---

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ middleware —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç¬†`HttpContext`. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–ø—Ä–æ—Å–µ, –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç–æ–º –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. 

**Microsoft.AspNetCore.Http.HttpContext** - –æ–±—ä–µ–∫—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –µ–≥–æ –ø–æ —Ü–µ–ø–æ—á–∫–µ –∫–æ–Ω–≤–µ–π–µ—Ä–æ–≤ –≤ `MiddleWare`.

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ middleware –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ–ª–µ–≥–∞—Ç¬†`RequestDelegate`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ - –æ–±—ä–µ–∫—Ç¬†`HttpContext`. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤ —Å–µ–±–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–±—Ä–æ—Å–µ –≤ –≤–∏–¥–µ —Å–≤–æ–π—Å—Ç–≤:

**Connection** - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
**Features** - –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é HTTP —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
**Items** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø–∞—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
**Request** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç¬†HttpRequest, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–ø—Ä–æ—Å–µ.
**RequestServices** - –æ–±—ä–µ–∫—Ç¬†IServiceProvider –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.
**Response** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç¬†HttpResponse, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç–æ–º.
**TraceIdentifier** - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ª–æ–≥–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏.
**WebSockets** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ WebSocket.
**User** - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å —ç—Ç–∏–º –∑–∞–ø—Ä–æ—Å–æ–º.
**Session** - —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–ø—Ä–æ—Å–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É, –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–º–µ–µ—Ç –¥–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞ `Request` –∏ `Response`.

---

**==Response==**. –°–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞ `HttpContext`, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç `HttpResponse` –∏ –∑–∞–¥–∞–µ—Ç, —á—Ç–æ –±—É–¥–µ—Ç –æ—Ç—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ –≤–∏–¥–µ –æ—Ç–≤–µ—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ `HttpResponse` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞:

**Body** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞ Stream.
**BodyWriter** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ PipeWriter –¥–ª—è –∑–∞–ø–∏—Å–∏ –æ—Ç–≤–µ—Ç–∞.
**HasStarted** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ —É–∂–µ –Ω–∞—á–∞–ª–∞—Å—å.

**ContentLength** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Length.
**ContentType** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Type.
**StatusCode** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å–Ω—ã–π –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞.
**Host** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Host.

**Headers** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞.
**Cookies** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—É–∫–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤ –æ—Ç–≤–µ—Ç–µ.
**HttpContext** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –¥–∞–Ω–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º.

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–æ¬†`Headers`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∏–ø¬†`IHeaderDictionary`. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤ —ç—Ç–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞. –î—Ä—É–≥–∏–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥¬†`Append()`.

–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—è–¥ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ `HttpResponse`:

**Redirect()** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—é (–≤—Ä–µ–º–µ–Ω–Ω—É—é –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é) –Ω–∞ –¥—Ä—É–≥–æ–π —Ä–µ—Å—É—Ä—Å.
**WriteAsJson()** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
**WriteAsync()** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞. 
**SendFileAsync()** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª.

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –º–µ—Ç–æ–¥¬†`SendFileAsync()`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç –ª–∏–±–æ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏, –ª–∏–±–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–µ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞¬†`IFileInfo`.

–¢–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–π–ª—ã —Å –∫–æ–¥–æ–º —Ä–∞–∑–º–µ—Ç–∫–∏, –∏–ª–∏ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –¥–ª—è –≤—ã–¥–∞—á–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –Ω–æ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ ASP.NET Core —É–∂–µ –∏–º–µ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π middleware, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏.

---

**==Request==**. –°–≤–æ–π—Å—Ç–≤–æ¬†`Request`¬†–æ–±—ä–µ–∫—Ç–∞ `HttpContext` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç `HttpRequest` –∏ —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–ø—Ä–æ—Å–µ, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–º, –≤ –≤–∏–¥–µ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–≤–æ–π—Å—Ç–≤:

**Body** - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞ Stream.
**BodyReader** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ PipeReader –¥–ª—è —á—Ç–µ–Ω–∏—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞.

**ContentLength** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Length.
**ContentType** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Type.
**Cookies** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –∫—É–∫–∏ (–æ–±—ä–µ–∫—Ç Cookies).
**Headers** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.
**Host** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Host.

**Form** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ —Ñ–æ—Ä–º.
**HasFormContentType** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Content-Type
**HttpContext** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –¥–∞–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º HttpContext

**IsHttps** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–æ—Ç–æ–∫–æ–ª https.
**Method** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥ HTTP.
**Path** - –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞ RequestPath.
**PathBase** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–π –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞.
**Protocol** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP.
**Query** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.
**QueryString** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –∑–∞–ø—Ä–æ—Å–∞.
**RouteValues** - –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
**Scheme** - –ø–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ö–µ–º—É –∑–∞–ø—Ä–æ—Å–∞ HTTP.

–ù–µ—Ä–µ–¥–∫–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–º–æ—â—å—é —Ñ–æ—Ä–º, –æ–±—ã—á–Ω–æ –≤ –∑–∞–ø—Ä–æ—Å–µ —Ç–∏–ø–∞ POST. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫–ª–∞—Å—Å–µ¬†`HttpRequest`¬†–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ¬†`Form`.

–°–≤–æ–π—Å—Ç–≤–æ¬†`Request.Form`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç¬†`IFormCollection`, –≥–¥–µ –ø–æ –∫–ª—é—á—É –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞. –í –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π –≤—ã—Å—Ç—É–ø–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã.

[[AspNetCore/üü°Base|üü°Base]]

