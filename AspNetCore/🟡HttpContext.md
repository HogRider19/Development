Все данные запроса передаются в middleware через объект HttpContext. Этот объект инкапсулирует информацию о запросе, позволяет управлять ответом и, кроме того, имеет еще много другой функциональности.

**Microsoft.AspNetCore.Http.HttpContext** - объект с помощью которого запрос передается в MiddleWare.

---

**HttpContext.Response** - объект для определения ответа (HttpResponse)

## Свойства HttpResponse:

1. **Body** - получает или устанавливает тело ответа в виде объекта Stream
2. **BodyWriter** - возвращает объект типа PipeWriter для записи ответа
3. **ContentLength** - получает или устанавливает заголовок Content-Length
4. **ContentType** - получает или устанавливает заголовок Content-Type
5. **Cookies** - возвращает куки, отправляемые в ответе
6. **HasStarted** - возвращает true, если отправка ответа уже началась
7. **Headers** - возвращает заголовки ответа
8. **Host** - получает или устанавливает заголовок Host
9. **StatusCode** - возвращает или устанавливает статусный код ответа
10. **HttpContext** - возвращает объект HttpContext, связанный с данным объектом Response

## Для отправки ответа у HttpResponse есть:

1. **Redirect()** - выполняет переадресацию (временную или постоянную) на другой ресурс
2. **WriteAsJson()/WriteAsJsonAsync()** - отправляет ответ в виде объектов в формате JSON
3. **WriteAsync()** - отправляет некоторое содержимое. Одна из версий метода позволяет указать кодировку. Если кодировка не указана, то по умолчанию применяется кодировка UTF-8
4. **SendFileAsync()** - отправляет файл

---

**HttpContext.Request** - объект для принятия запроса (HttpRequest)

## Свойства HttpRequest:

1. **Body** - предоставляет тело запроса в виде объекта Stream
2. **BodyReader** - возвращает объект типа PipeReader для чтения тела запроса
3. **ContentLength** - получает или устанавливает заголовок Content-Length
4. **ContentType** - получает или устанавливает заголовок Content-Type
5. **Cookies** - возвращает коллекцию куки (объект Cookies)
6. **Form** - получает или устанавливает тело запроса в виде форм
7. **HasFormContentType** - проверяет наличие заголовка Content-Type
8. **Headers** - возвращает заголовки запроса
9. **Host** - получает или устанавливает заголовок Host
10. **HttpContext** - возвращает связанный с данным запросом HttpContext
11. **IsHttps** - возвращает true, если применяется протокол https
12. **Method** - получает или устанавливает метод HTTP
13. **Path** - путь запроса в виде объекта RequestPath
14. **PathBase** - получает или устанавливает базовый путь запроса
15. **Protocol** - получает или устанавливает протокол, например, HTTP
16. **Query** - возвращает коллекцию параметров из строки запроса
17. **QueryString** - получает или устанавливает строку запроса
18. **RouteValues** - получает данные маршрута для текущего запроса
19. **Scheme** - получает или устанавливает схему запроса HTTP