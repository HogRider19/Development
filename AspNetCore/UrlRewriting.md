Функциональность `URL Rewriting` позволяет контролировать доступ к определенным URL-адресам в приложении. В частности, мы можем выполнить переопределение адресов, которые используются для доступа к ресурсам приложения. 

Например, `URL Rewriting` позволяет решить такие стандартные проблемы, как перенаправление с домена с www или перенаправление с протокола http на https.

`Rewriting` реализуется до того, как запрос попадет в систему маршрутизации, и начнется его выполнение в конвейере `MVC`. Запрошенный адрес изначально может отсутствовать, однако `Rewriting` может изменить этот адрес на любой приемлемый.

Для подключения компонента `URL Rewriting` используется метод расширения `UseRewriter()`, который в качестве параметра принимает объект `RewriteOptions`, задающий все правила переопределения адресов URL:

**RewriteOptions** - класс определяющий перенаправление адресов.
**app.UseRewriter(RevOptions)** - подключает механизм URL Rewriting.

```c#
using Microsoft.AspNetCore.Rewrite; // Пакет с middleware URL Rewriting
 
var builder = WebApplication.CreateBuilder();
var app = builder.Build();
 
var options = new RewriteOptions();
app.UseRewriter(options); // Подключение механизма перезаписи
 
app.Run();
```

Для настойки механизма перезаписи класс `RewriteOptions` имеет ряд методов расширений, которые могут быть вызваны цепочкой:

**AddRedirect()** - выполняет переадресацию с отправкой 301.
**AddRewrite()** - выполняет подмену одного адреса другим без переадресации.
**AddRedirectToWww()** - выполняет переадресацию на адрес с www в домене.
**AddRedirectToWwwPermanent()** - выполняет переадресацию на адрес с www.
**AddRedirectToNonWww()** - выполняет переадресацию на домен без www.
**AddRedirectToHttps()** - выполняет переадресацию на протокол HTTPS.
**AddIISUrlRewrite()** - в качестве источника правил добавляет правила файла IIS.
**AddApacheModRewrite()** - в качестве источника правил правила файла Apache.

[[AspNetCore/Base|Base]]
