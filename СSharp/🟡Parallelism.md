–°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `TPL(Task Parallel Library)`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Task` –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

–î–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω–∞ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤. –ü–æ—ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ `TPL` –∏ –µ–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ö–æ—Ç—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Thread` –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –Ω–∞—Ö–æ–¥—è—Ç —à–∏—Ä–æ–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ.

---

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `TPL` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å `Parallel`. –ö–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π.

**==Invoke==**. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. –ü—Ä–∏ —ç—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–∏–π –ø–æ—Ç–æ–∫ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–π –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –ù–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ.

```c#
Parallel.Invoke(action1, ..., actionN);
```

**==For==**. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –∫–∞–∂–¥—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏–Ω–¥–µ–∫—Å. –¢–∞–∫–∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π –∏ –∫–æ–Ω–µ—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å—ã.

```c#
ParallelLoopResult result = Parallel.For(startIndedx, endIndedx, (index) => {});
```

**==ForEach==**. –û—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏—é –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IEnumerable`, –ø–æ–¥–æ–±–Ω–æ —Ü–∏–∫–ª—É `foreach`, —Ç–æ–ª—å–∫–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–±–æ—Ä–∞.

```c#
ParallelLoopResult result = Parallel.ForEach<int>(colection, (item) => res));
```

–ú–µ—Ç–æ–¥—ã `Parallel.ForEach` –∏ `Parallel.For` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç¬†`ParallelLoopResult`. –°–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π—Å—Ç–≤–æ `IsCompleted`, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ –∑–∞–≤–µ—Ä—à–µ–Ω –ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ü–∏–∫–ª –∏ —Å–≤–æ–π—Å—Ç–≤–æ `LowestBreakIteration`, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ –∏–Ω–¥–µ–∫—Å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.

–¢–∞–∫–∂–µ –≤ –¥–µ–ª–µ–≥–∞—Ç—ã Action –º–µ—Ç–æ–¥–æ–≤ `For` –∏ `ForEach` –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `ParallelLoopState`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Ü–∏–∫–ª–∞. –ß–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `Break` –º–æ–∂–Ω–æ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π. –ò–ª–∏ —Å—Ä–∞–∑—É —á–µ—Ä–µ–∑ `Stop`.

```c#
ParallelLoopResult result = Parallel.For(1, 10, Method);
if (!result.IsCompleted) Console.WriteLine($"{result.LowestBreakIteration}");
 
void Method(int n, ParallelLoopState pls)
{
    pls.Break();
    pls.Stop();
}
```

---

–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `TPL` —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ `Task`. –î–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –∑–∞–¥–∞—á—É, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ –æ–¥–Ω–æ–º –∏–∑ –ø–æ—Ç–æ–∫–æ–≤ –∏–∑ –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤. –•–æ—Ç—è –µ–µ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ç–µ–∫—É—â–µ–º –ø–æ—Ç–æ–∫–µ.

–≠–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–ø—É—â–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Task(action)`, –ø–æ—Å–ª–µ —á–µ–≥–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–µ –º–µ—Ç–æ–¥–æ–º `Start`. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –º–µ—Ç–æ–¥–æ–º `Run(action)` –∏–ª–∏ –∂–µ —Å–æ–∑–¥–∞—Ç—å –µ–µ —Ñ–∞–±—Ä–∏–∫–æ–π `Task.Factory.StartNew(action)`. 

```c#
Task task1 = new Task(action); task1.Start();
Task task2 = Task.Factory.StartNew(action);
Task task3 = Task.Run(action);
```

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É –∑–∞–¥–∞—á `Task.Factory` –∏–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–¥–∞—á–∏, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è `TaskCreationOptions` –¥–ª—è –µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –î–∞–Ω–Ω–æ–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

**==AttachedToParent==**. –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∑–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∞ –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–∞–¥–∞—á–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ—á–µ—Ä–Ω—è—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ—á–µ—Ä–Ω—è—è –∑–∞–¥–∞—á–∞ –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Ä–∞–Ω—å—à–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π.

**==DenyChildAttach==**. –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ª—é–±–∞—è –¥–æ—á–µ—Ä–Ω—è—è –∑–∞–¥–∞—á–∞, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–∞–∫ —á–∞—Å—Ç—å —Ç–µ–∫—É—â–µ–π, —Ç–æ –µ—Å—Ç—å –∫–∞–∫ –±—É–¥—Ç–æ –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å–æ–∑–¥–∞–Ω—ã —Å `AttachedToParent`.

**==LongRunning==**. –£–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫—É –∑–∞–¥–∞—á, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞–µ–º–∞—è –∑–∞–¥–∞—á–∞ —è–≤–ª—è–µ—Ç—Å—è –¥–æ–ª–≥–æ–∏—Å–ø–æ–ª–Ω—è–µ–º–æ–π, —á—Ç–æ–±—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —É—á–µ–ª —ç—Ç–æ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤.

**==PreferFairness==**. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä—è–º—ã–º —Å–ø–æ—Å–æ–±–æ–º, —Ç–æ –µ—Å—Ç—å –∑–∞–¥–∞—á–∏, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ, –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ä–∞–Ω–µ–µ.

–° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ Task, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏: `IsCompleted`, `IsCanceled`, `IsFaulted` –∏ —Ç–∞–∫–∂–µ `IsCompletedSuccessfully`. –¢–∞–∫–∂–µ —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `Status` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏, –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Ç–æ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `Exception`.

–ó–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–∞–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã, –Ω–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç `Task` —Ç–µ–º —Ç–∏–ø–æ–º, –æ–±—ä–µ–∫—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∑–∞–¥–∞—á–∏. –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ —á–∏—Å–ª–æ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Å–≤–æ–π—Å—Ç–≤–µ `Result`.  –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–≤–æ–π—Å—Ç–≤—É `Result` –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫.

---

**==Wait==**. –ß—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–∂–∏–¥–∞–ª–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥¬†`Wait()`¬†–æ–±—ä–µ–∫—Ç–∞ `Task`. –°—Ç–æ–∏—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –ø—Ä–∏ –æ–∂–∏–¥–∞–Ω–∏–∏ —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.

```c#
Task task = Task.Run(action);
task.Wait();
```

**==RunSynchronously==**. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–¥–∞—á–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –û–¥–Ω–∞–∫–æ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞¬†`RunSynchronously` –∑–∞–¥–∞—á—É¬†–º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ. –¢–∞–∫–∞—è –∑–∞–¥–∞—á–∞ –∑–∞–±–∏—Ä–∞–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–∏–π –µ–µ –ø–æ—Ç–æ–∫ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è.

```c#
Task task = new Task(action);
task.RunSynchronously();
```

**==Delay==**. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Task`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —á–∏—Å–ª–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ –≤ –≤–∏–¥–µ —á–∏—Å–ª–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏.

**==WaitAll==**. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Task`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–π –∏–∑ –Ω–∏—Ö.

**==WaitAny==**. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Task`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π –∏–∑ –Ω–∏—Ö.

**==ContinueWith==**. –ó–∞–¥–∞—á–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è¬†–ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –≤—ã–∑–≤–∞—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–≥–∏—Ö, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —É—Å–ª–æ–≤–∏—è –∏—Ö –≤—ã–∑–æ–≤–∞, –ø–µ—Ä–µ–¥–∞—Ç—å –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏ –≤ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ.

```c#
Task baseTask = new Task(action);
Task contTack = baseTask.ContinueWith(baseTaskInst => {});
```

**==FromResult==**. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ `Task`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–¥–∞—á–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

---

–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –ò –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –∑–∞–¥–∞—á—É. –î–ª—è —ç—Ç–æ–≥–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–º–µ–Ω—ã –∑–∞–¥–∞—á –≤ –≤–∏–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã¬†`CancellationToken`.

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–æ–∫–µ–Ω–æ–≤ `CancellationTokenSource`, –∫–æ—Ç–æ—Ä—ã–π —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `Token` –≤—ã–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ `Cancel`.
–î–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–º —Ä–µ—Å—É—Ä—Å–æ–º –∏ —Ç—Ä–µ–±—É–µ—Ç –≤—ã–∑–æ–≤–∞ `Dispose`.
–¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–∞–¥–∞—á–∏ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ –Ω–µ–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

–¢–∞–∫–∂–µ CancellationTokenSource –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –ø–æ¬†–∏—Å—Ç–µ—á–µ–Ω–∏—é –∫–æ—Ç–æ—Ä–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è—Ç—å—Å—è –≤—Å–µ —Ç–æ–∫–µ–Ω—ã. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `cts.CancelAfter(time`).

–¢–æ–∫–µ–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–ª–∞—Å—Å–æ–º `CancellationToken`. –°–≤–æ–π—Å—Ç–≤–æ `IsCancellationRequested`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true` –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Ç–æ–∫–µ–Ω–∞. –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∫–æ–¥ –∑–∞–¥–∞—á–∏ –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `OperationCanceledException`. –ï—Å—Ç—å –º–µ—Ç–æ–¥ `ThrowIfCancellationRequested`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Ç–æ–∫–µ–Ω–∞.

```c# 
CancellationTokenSource cancelTokenSource = new CancellationTokenSource(); 
CancellationToken token = cancelTokenSource.Token;
Task task = new Task(() => { token.ThrowIfCancellationRequested() }, token);
```

–¢–∞–∫–∂–µ –µ—Å—Ç—å –∏ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± —É–∑–Ω–∞—Ç—å –æ —Ç–æ–º, —á—Ç–æ –±—ã–ª –ø–æ—Å–ª–∞–Ω —Å–∏–≥–Ω–∞–ª –æ—Ç–º–µ–Ω—ã –∑–∞–¥–∞—á–∏. –ú–µ—Ç–æ–¥¬†`Register()`¬†–ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–º–µ–Ω—ã –∑–∞–¥–∞—á–∏ –≤ –≤–∏–¥–µ `Action`. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–æ –ø—Ä–∏ —Å–∏–≥–Ω–∞–ª–µ –æ–± –æ—Ç–º–µ–Ω–µ —Ç–æ–∫–µ–Ω–∞.

```c#
Task task = new Task(() => {
	token.Registr(action);
}, token);
```

---

–û–¥–Ω–∏–º –∏–∑ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–¥–∞—á–∞–º, —è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å `TreadPool`. –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤, –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –∑–∞–¥–∞—á. –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–¥–∞—á, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ—Ç–æ–∫–∏ –≤ –ø—É–ª–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.

–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∑–∞–¥–∞—á, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –µ—â–µ –æ–¥–∏–Ω —Ñ–æ–Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ø—É–ª–µ. –ö–æ–≥–¥–∞ –ø–æ—Ç–æ–∫ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç, –æ–Ω –Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–∏.

---

–ö–ª–∞—Å—Å Task –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–¥ –º–µ—Ç–æ–¥–æ–≤ –∏ —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π –∑–∞–¥–∞—á–µ, –æ –µ–µ —Å—Ç–∞—Ç—É—Å–µ, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–µ –∏ –æ –µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–∏:

1. **AsyncState** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–¥–∞—á–∏
3. **Id** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏
4. **Status** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏.
5. **IsCompleted** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
6. **IsCanceled** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –±—ã–ª–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞
7. **IsFaulted** - true, –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º
8. **IsCompletedSuccessfully** - true, –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ
9. **Exception** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤–æ–∑–Ω–∏–∫—à–µ–≥–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏

[[üü°ExecutionModel]]


