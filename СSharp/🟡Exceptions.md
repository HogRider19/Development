Иногда при выполнении программы возникают ошибки, которые трудно предусмотреть или предвидеть, а иногда и вовсе невозможно. 

Например, при передачи файла по сети может неожиданно оборваться сетевое подключение. такие ситуации называются исключениями.

**try** - блок кода в котором будет отслеживаться исключение
**catch** - блок обработки определенного исключения
**finnaly** - финальная секция, выполняющаяся в любом случае
**catch (exc) when (cond)** - конструкция, позволяющая задать фильтр условия

**throw exe** - берет объект исключения и бросает его. Этот объект поймает первый соответствующий catch выше по стеку. При этом стек вызовов обрубается

**throw** - может использоваться только в catch, и она пробрасывает пойманное этим catch исключение выше так, как будто вы его не поймали.

---

В случае пойманного исключения, блок `finally` гарантированно выполнится. Однако в случае если исключение не поймано, выполнение блока `finally` зависит от того, как именно была вызвана операция размотки стека.

Когда блок finally не выполнится:

- Было брошено StackOverflowException
- Было брошено исключение повреждения CLR
- Когда `catch` входит в бесконечный цикл или бесконечное ожидание (deadlock).
- Когда завершение catch происходит через Environment.Exit
- При завершении процесса WinAPI-функции TerminateProcess

---

Обработка исключений нисколько не замедляет программу, если исключений фактически нет. То есть кидая исключение только в случае ошибки, вы не потеряете в производительности.

Если же ошибка произошла, то работа вашего алгоритма всё равно будет прервана, поэтому не так важно, что вы один раз потеряете дополнительно пару микросекунд.

Самым медленным процессом при обработке исключений является создание экземпляра исключения и последующее заполнение StackTrace.

---
#### Собственные классы исключений

Если нас не устраивают встроенные типы исключений, то мы можем создать свои типы. Базовым классом для всех исключений является класс Exception, соответственно для создания своих типов мы можем унаследовать данный класс.

После наследования следует определить конструктор исключения, проинициализировав при этом конструктор базового класса.

---
#### Базовые классы исключений

1. **Exception** - базовый класс для всех исключений
    
2. **DivideByZeroException** - представляет исключение, которое генерируется при делении на ноль
    
3. **ArgumentOutOfRangeException** - генерируется, если значение аргумента находится вне диапазона допустимых значений
    
4. **ArgumentException** - генерируется, если в метод для параметра передается некорректное значение
    
5. **IndexOutOfRangeException** - генерируется, если индекс элемента массива или коллекции находится вне диапазона допустимых значений
    
6. **InvalidCastException** - генерируется при попытке произвести недопустимые преобразования типов
    
7. **NullReferenceException** - генерируется при попытке обращения к объекту, который равен null (то есть по сути не определен)

---
#### Атрибуты исключений

1. **InnerException** - хранит информацию об исключении, которое послужило причиной текущего исключения
    
2. **Message**- хранит сообщение об исключении, текст ошибки
    
3. **Source** - хранит имя объекта или сборки, которое вызвало исключение
    
4. **StackTrace** - возвращает строковое представление стека вызывов, которые привели к возникновению исключения
    
5. **TargetSite** - возвращает метод, в котором и было вызвано исключение