**Пул потоков** – это коллекция потоков для выполнения методов в фоновом режиме. Распределение пулов занимается CLR. Что бы выполнить метод асинхронно необходимо поместить его в очередь потока, пул потоков будет сам извлекать методы из очереди и выполнять их.

При наличии большого количества методов, будет создан еще один фоновый поток. Когда поток отработает, он не уничтожается, а возвращается в пул поток для ожидания следующей задачи

**Асинхронность** - процесс выполнения программы, который позволяет вынести отдельные задачи из основного потока в специальные асинхронные методы и при этом более экономно использовать потоки.

Асинхронные методы выполняются в отдельных потоках. Однако при выполнении продолжительной операции поток асинхронного метода возвратится в пул потоков и будет использоваться для других задач.

Когда продолжительная операция завершит свое выполнение, для асинхронного метода опять выделяется поток из пула потоков, и асинхронный метод продолжает свою работу

---

Для асинхронного выполнения метода, данный метод должен содержать модификатор async, и иметь один или более вызовов await. Такой метод при вызове вернет экземпляр запущенной задачи (Task)

**Task.FormResult()** - синхронно возвращает значение из задачи

**Task.WaitAll(param tasks)** - ждет выполнения всех переданных задач

**Task.WhenAny(param tasks)** - ждет первую выполнившуюся задачу

## Асинхронный метод возвращает:

1. Void - просто запуск задачи без возможности отслеживания
    
2. Task - дает возможность ожидать задачу и отслеживать ее состояние
    
3. Task\<T> - после await вернет указанный тип T
    
4. ValueTask\<T> - возвращает значение без аллокации память