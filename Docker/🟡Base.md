Система `Docker` представляет собой платформу для разработки, доставки и запуска приложений. Он позволяет отделить приложения от инфраструктуры и управлять инфраструктурой по аналогии с тем, как мы управляем приложениями.

Он был создан в 2013 году компанией `DockerInc`. Основатель `Docker` `Соломон Хайкс` увидел потребность в инструменте, который позволил бы разработчикам упаковывать приложения со всеми зависимостями в целостность и запускать их в любой среде. 

Перед появлением `Docke`r существовали другие технологии виртуализации, но они были громоздкими и требовали больших вычислений. `Docker` представил концепцию контейнеров, основанную на технологии `Linux` контейнеров (`LXC`), которая позволяла упаковывать приложения и их зависимости в единый контейнер для развертывания. 

Он предоставляет возможность упаковывать и запускать приложение в слабо изолированной среде(контейнере). Изоляция позволяет одновременно запускать несколько контейнеров на одном хосте. Контейнеры являются легковесными и содержат все необходимое для успешного запуска приложения на хосте.

Платформа `Docker` рационализирует жизненный цикл разработки, позволяя работать в стандартизированной среде через локальные контейнеры с сервисами сервисы. Контейнеры отлично подходят для рабочих процессов механизма `CI/CD`.

Платформа, основанная на контейнерах, позволяет легко портировать все приложения. Контейнеры могут запускаться на локальной машине разработчика, в физических или виртуальных дата центрах, облачных провайдерах или смешанных средах.

Платформа `Docker` является легковесной. Она предоставляет работоспособную и экономичную альтернативу виртуальным машинам на основе гипервизора, что позволяет использовать больше вычислительных мощностей для задач.

---

Для изоляции процессов, запущенных на хосте, запуска приложений, предназначенных для разных платформ, можно использовать виртуальные машины. Они делят между собой физические ресурсы хоста: процессор, память, дисковое пространство.

![[{DC1D4C57-0B73-44A3-B412-120BF81361B4}.png]]

На каждой виртуальной машине устанавливаем нужную `ОС` и запускаем приложения. Недостатком такого подхода является то, что значительная часть ресурсов хоста расходуется не на полезную нагрузку, а на работу нескольких `ОС`.

Альтернативным подходом к изоляции приложений являются контейнеры. Само понятие контейнеров не ново и давно известно в `Linux`. Идея состоит в том, чтобы в рамках одной `ОС` выделить изолированную область и запускать в ней приложение. В этом случае говорим о виртуализации на уровне `ОС`. В отличие от виртуальных машин контейнеры используют кусочек `ОС`: файлы,  дерево процессов, сетевые интерфейсы.

![[{B3670DAB-2B06-4217-AA01-7CD069E32BB4}.png]]

Приложение, запущенное в контейнере думает, что оно одно во всей `ОС`. Изоляция достигается за счет таких `Linux` механизмов, как `namespaces` для изоляции на уровне операционной системы и `controlgroups` для установки лимитов на ресурсы. 

Контейнеры сами по себе не являются чем-то новым, просто проект `Docker`, скрыл сложные механизмы `namespaces`, `control groups` и он окружен своей экосистемой, обеспечивающей удобное использование контейнеров на всех стадиях разработки.

---

Платформа `Docker` использует клиент-серверную архитектуру. Клиент`(Docker client)` обращается к демону`(Docker daemon)`, который собирает, запускает и распределяет контейнеры. Клиент и демон могут располагаться на одной или разных машинах.

Клиент и демон общаются через `RESTAPI` поверх `UNIX` сокетов или сетевого интерфейса. Другим клиентом является `Docker Compose`, позволяющий
работать с приложениями, состоящими из нескольких контейнеров.

![[{1968019F-C74C-4327-BDC8-B750F72280A1}.png]]

**==Deamon==**. Демон (`dockerd`) регистрирует  запросы, поступающие от `Docker API`, и управляет такими объектами как образы, контейнеры, сети и тома. Также демон
может общаться с другими демонами для совместного управления сервисами.

**==Client==**. Клиент (`docker`) представляет основной способ коммуникации с системой. При выполнении команды клиент отправляет эту команду демону, который ее выполняет. Клиент использует `Docker API`. Клиент может общаться с несколькими демонами.

**==Registery==**. В реестре (`registry`) хранятся образы контейнеров. `DockerHub` представляет публичный реестр, который по умолчанию используется Docker для получения образов. Имеется возможность создания частных закрытых реестров.

При выполнении таких команд, как `pull` или `run`, необходимые образы загружаются из настроенного реестра. А при выполнении команды `push` образ загружается в реестр.
